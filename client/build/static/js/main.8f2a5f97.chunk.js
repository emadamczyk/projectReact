(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{143:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),i=n.n(o),l=n(18),c=n.n(l),s={getIncidents:function(){return c.a.get("/api/incidents")},getIncident:function(e){return c.a.get("/api/incidents/"+e)},deleteIncident:function(e){return c.a.delete("/api/incidents/"+e)},saveIncident:function(e){return c.a.post("/api/incidents",e)}};function u(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}var p=n(61),m=n.n(p),f=n(93),h=n.n(f),d=n(92),g=n.n(d),y=n(90),b=n.n(y),E=n(91),v=n.n(E),w=n(383),S=n.n(w),I=n(47),C=n(31),k=n(384),_=n.n(k),x=n(382),j=n.n(x),O=n(62);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(C.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:N({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:N({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(I.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(I.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:N({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(h.a,{position:"static",style:{background:"#0E35B5"}},r.a.createElement(g.a,null,r.a.createElement("img",{id:"logo",style:{height:"12vh",marginRight:"10px"},src:m.a}),r.a.createElement(v.a,{variant:"h6",color:"inherit",className:t.grow}),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(_.a,null)),r.a.createElement(S.a,{onKeyPress:e.onKeyPress,onChange:e.handleInputChange,value:e.value,name:"searchTerm",placeholder:"Search",classes:{root:t.inputRoot,input:t.inputInput}})),r.a.createElement(b.a,{component:O.a,to:"/create"},r.a.createElement(j.a,null)))))});var A=Object(C.withStyles)({card:{maxWidth:345},media:{height:140}})(function(e){e.classes;var t=[];return e.results.map(function(e){var n="",a=["https://imageos.giant-bicycles.com/b_white,c_pad,h_400,q_80/Defy-Advanced-2-Color-A-Neon-Green/Defy-Advanced-2-Color-A-Neon-Green.jpg","https://www.danflahertylaw.com/images/plainfield-bicycle-accident-attorney.jpg","https://wrongfuldeathsite.files.wordpress.com/2017/06/bicycle-collision.jpg","https://starecat.com/content/wp-content/uploads/trump-riding-on-a-lion-with-putin-riding-on-a-bear.jpg;","http://farm1.staticflickr.com/189/486212501_4eb23facdb.jpg","https://cdn.shopify.com/s/files/1/0116/6732/products/chief_moss_grn_1024x1024.png?v=1479315448","https://cdn.gearpatrol.com/wp-content/uploads/2018/02/Priority-Revamped-Cruiser-gear-patrol-full-lead.jpg"];n=e.media.image_url?e.media.image_url:a[Math.floor(Math.random()*a.length-1)+1];var o=r.a.createElement("div",{className:"card",style:{width:"18rem",display:"inline-block",margin:"10px",color:"#ffff"}},r.a.createElement("img",{className:"card-img-top",width:"200px",height:"150px",src:n}),r.a.createElement("div",{className:"card-body",style:{maxHeight:"40rem",backgroundColor:"#3f51b5"}},r.a.createElement("h5",{className:"card-title",style:{maxHeight:"50px",minHeight:"50px"}},e.title),r.a.createElement("p",null,e.type),r.a.createElement("p",{className:"card-text",style:{maxWidth:"250px",overflow:"scroll",maxHeight:"100px",minHeight:"100px"}}," ",e.description)));t.push(o)}),r.a.createElement("div",{style:{width:"80%"}},t)}),R="https://bikewise.org:443/api/v2/incidents?page=1&proximity_square=10&proximity=",T={search:function(e){return c.a.get(R+e)}},M="https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyAa2IvrL42Ey9pbEkw_4ON3fF-udc4A25c&address=",G={search:function(e){var t=e.replace(/\s/g,"");return console.log("this is our freaky url!!",M+t),c.a.get(M+t)}};function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var z=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return D(a,(n=a=D(this,(e=L(t)).call.apply(e,[this].concat(o))),a.state={incidents:[],title:"",author:"",type:"",description:"",searchTerm:"",results:[],blah:"There are no results to display, yet...",userId:null},a.searchBikeIncidents=function(e){console.log("searching..."),T.search(e).then(function(e){return a.setState({results:e.data.incidents})}).catch(function(e){return console.log(e)})},a.handleSearchSubmit=function(e){"Enter"===e.key&&(console.log("submittng...",e),a.searchBikeIncidents(a.state.searchTerm),a.setState({blah:""}))},a.loadIncidents=function(){s.getIncidents().then(function(e){return a.setState({incidents:e.data})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){console.log("im here!");var t=e.target,n=t.name,r=t.value;a.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))},a.deleteIncident=function(e){s.deleteIncident(e).then(function(e){return a.loadIncidents()}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault(),a.state.title&&a.state.author},n))}var n,a,o;return n=t,(a=[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userId");this.setState({userId:e}),this.loadIncidents()}},{key:"render",value:function(){this.props.classes;return r.a.createElement(u,{fluid:!0},r.a.createElement(P,{value:this.state.searchTerm,handleInputChange:this.handleInputChange,onKeyPress:this.handleSearchSubmit}),r.a.createElement("br",null),r.a.createElement("h1",{style:{margin:"40px"}},this.state.blah),r.a.createElement(A,{results:this.state.results}))}}])&&q(n.prototype,a),o&&q(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");W(e.prototype,t&&t.prototype),t&&W(e,t)}(t,e),t}(a.Component),H=Object(C.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary}}})(z),F=(n(198),n(101),n(142)),K=n.n(F);var U=Object(C.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(h.a,{position:"static",style:{background:"#0E35B5"}},r.a.createElement(g.a,null,r.a.createElement("img",{id:"logo",style:{height:"12vh",marginRight:"10px"},src:m.a}),r.a.createElement(v.a,{variant:"h6",color:"inherit",className:t.grow}))))});n(196);var J=n(40),Y=n.n(J);n(194);function X(e){return(X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $(e,t){return!t||"object"!==X(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var te=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=$(this,ee(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(V({},a,r))},n.toggleRegister=function(e){console.log("TOGGLE",n.state.register),e.preventDefault(),n.setState({register:!n.state.register})},n.register=function(e){e.preventDefault(),console.log("REGISTER",n.state.username,n.state.password),c.a.post("/api/user",{username:n.state.username,password:n.state.password}).then(function(e){console.log("REGISTERED",e),n.login()}).catch(function(e){console.error(e)})},n.login=function(e){e&&e.preventDefault(),console.log(n.state.username,n.state.password),c.a.post("/api/user/login",{username:n.state.username,password:n.state.password}).then(function(e){console.log(e),sessionStorage.setItem("userId",e.data.user._id),n.setState({loggedIn:!0})}).catch(function(e){console.error(e)})},n.state={loggedIn:!1,register:!1,username:"",password:""},n}var n,a,o;return n=t,(a=[{key:"componentDidMount",value:function(){sessionStorage.getItem("userId")&&this.setState({loggedIn:!0})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:e.root},r.a.createElement(Y.a,{container:!0},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement("section",{style:{position:"relative",textAlign:"center"}},r.a.createElement("div",V({id:"hero",className:"blue lighten-4"},"className","backgroundImg"),r.a.createElement("div",null,r.a.createElement("p",{id:"motto"},"WE LOVE SAFE BIKING")),this.state.loggedIn?r.a.createElement("div",{id:"chainButton"},r.a.createElement(K.a,{component:O.a,to:"/home",className:"btn-circle btn-xl"},"POST AN INCIDENT!")):this.state.register?r.a.createElement("form",{class:"loginForm"},r.a.createElement("h3",null,"Register"),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"User Name: "),r.a.createElement("input",{name:"username",type:"text",placeholder:"user name",required:!0,value:this.state.username,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",required:!0,value:this.state.password,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{type:"button",class:"btn btn-success",onClick:this.register},"Register"),r.a.createElement("br",null),r.a.createElement("button",{type:"button",class:"btn btn-light",onClick:this.toggleRegister},"Login")))):r.a.createElement("form",{class:"loginForm"},r.a.createElement("h3",null,"Login"),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"User Name: "),r.a.createElement("input",{name:"username",type:"text",placeholder:"user name",required:!0,value:this.state.username,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",required:!0,value:this.state.password,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{type:"button",class:"btn btn-success",onClick:this.login},"Log In"),r.a.createElement("br",null),r.a.createElement("button",{type:"button",class:"btn btn-light",onClick:this.toggleRegister},"Register"))))))))))}}])&&Z(n.prototype,a),o&&Z(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Q(e.prototype,t&&t.prototype),t&&Q(e,t)}(t,e),t}(a.Component),ne=Object(C.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary}}})(te);n(191);n(190);var ae=function(e){return r.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};n(189);function re(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function oe(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}n(188);function ie(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function le(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",Object.assign({style:{height:"100px"},className:"form-control",rows:"20"},e)))}function ce(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var se=n(22);function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fe(e,t){return!t||"object"!==ue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var de={width:"100%",height:"100%"},ge=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return fe(a,(n=a=fe(this,(e=he(t)).call.apply(e,[this].concat(o))),a.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){return r.a.createElement(se.Map,{google:this.props.google,zoom:14,style:de,initialCenter:{lat:41.881832,lng:-87.6298}},r.a.createElement(se.Marker,{onClick:this.onMarkerClick,name:"Chicago"}),r.a.createElement(se.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name))))}}])&&me(n.prototype,a),o&&me(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");pe(e.prototype,t&&t.prototype),t&&pe(e,t)}(t,e),t}(a.Component),ye=(Object(se.GoogleApiWrapper)({apiKey:"AIzaSyCio8lIF1MITRS5JN9hjgHfjfASqkqXg1w"})(ge),n(60)),be=n.n(ye),Ee=n(381),ve=n.n(Ee),we=n(379),Se=n.n(we),Ie=n(380),Ce=n.n(Ie);function ke(e){return(ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function je(e,t){return!t||"object"!==ke(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Ne=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return je(a,(n=a=je(this,(e=Oe(t)).call.apply(e,[this].concat(o))),a.state={auth:!0,anchorEl:null},a.handleChange=function(e){a.setState({auth:e.target.checked})},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.auth,a=t.anchorEl,o=Boolean(a);return r.a.createElement("div",{className:e.root},r.a.createElement(h.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(b.a,{className:e.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(ve.a,null)),r.a.createElement(v.a,{variant:"h6",color:"inherit",className:e.grow},"Bike Your AREA"),n&&r.a.createElement("div",null,r.a.createElement(b.a,{"aria-owns":o?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit",component:O.a,to:"/home"},r.a.createElement(Ce.a,null)),r.a.createElement(Se.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:this.handleClose})))))}}])&&xe(n.prototype,a),o&&xe(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");_e(e.prototype,t&&t.prototype),t&&_e(e,t)}(t,e),t}(r.a.Component),Pe=Object(C.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(Ne);function Ae(e){return(Ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Me(e,t){return!t||"object"!==Ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Be={width:"100%",height:"100%"},We=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Me(a,(n=a=Me(this,(e=Ge(t)).call.apply(e,[this].concat(o))),a.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},locations:[{lat:37.778519,lng:-122.40564},{lat:37.759703,lng:-122.428093},{lat:41.8781,lng:-87.6298}]},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,console.log("this is the coordinate array",this.props.incidentsArray),r.a.createElement(se.Map,{google:this.props.google,style:Be,initialCenter:{lat:41.8781,lng:-87.6298},zoom:7,onClick:this.onMapClicked},this.props.incidentsArray.map(function(t,n){return r.a.createElement(se.Marker,{key:n,onClick:e.onMarkerClick,name:"dolorrrrrres park",title:"test",position:{lat:e.props.incidentsArray[n].lat,lng:e.props.incidentsArray[n].lng}})}),r.a.createElement(se.InfoWindow,{onClose:this.onInfoWindowClose},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.selectedPlace.name)))))}}])&&Te(n.prototype,a),o&&Te(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Re(e.prototype,t&&t.prototype),t&&Re(e,t)}(t,e),t}(a.Component),qe=Object(se.GoogleApiWrapper)({apiKey:"AIzaSyCio8lIF1MITRS5JN9hjgHfjfASqkqXg1w"})(We);function De(e){return(De="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fe(e,t){return!t||"object"!==De(t)&&"function"!==typeof t?Ue(e):t}function Ke(e){return(Ke=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Je={position:"relative",float:"left",width:"100%",minHeight:"400px",minWidth:"664px",overflow:"hidden",height:"150%"},Ye=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Fe(a,(n=a=Fe(this,(e=Ke(t)).call.apply(e,[this].concat(o))),a.state={incidents:[],title:"",author:"",type:"",location:"",description:"",searchTerm:"",results:[],lat:"",lng:"",coordArray:[],userId:null},a.loadIncidents=function(){s.getIncidents().then(function(e){return a.setState({incidents:e.data})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){console.log("im here!");var t=e.target,n=t.name,r=t.value;a.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))},a.deleteIncident=function(e){s.deleteIncident(e).then(function(e){return a.loadIncidents()}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){console.log("hit submit"),e.preventDefault(),console.log("locationnnnnn",a.state.location);var t=Ue(Ue(a));G.search(a.state.location).then(function(e){t.setState({incidents:Le(t.state.incidents).concat([e.data.results[0].geometry.location])}),s.saveIncident({title:t.state.title,author:t.state.author,type:t.state.type,location:t.state.location,lat:e.data.results[0].geometry.location.lat,lng:e.data.results[0].geometry.location.lng,description:t.state.description}).then(function(e){return t.loadIncidents()}).catch(function(e){return console.log(e)})}).catch(function(e){console.log("THIS IS OUR ERR!!",e)})},n))}var n,a,o;return n=t,(a=[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userId");this.setState({userId:e}),this.loadIncidents()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(u,{fluid:!0},r.a.createElement(Pe,null),r.a.createElement("div",{style:{margin:"40px"},className:t.root},r.a.createElement(Y.a,{container:!0,spacing:24},r.a.createElement(Y.a,{style:Je,item:!0,lg:6,md:12,xs:12},r.a.createElement(qe,{incidentsArray:this.state.incidents})),r.a.createElement(Y.a,{item:!0,lg:3,md:6,xs:12},r.a.createElement(be.a,{className:t.paper},r.a.createElement("div",null,r.a.createElement("h1",null,"Submit an Incident"),r.a.createElement("form",null,r.a.createElement(ie,{value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Title (required)"}),r.a.createElement(ie,{value:this.state.author,onChange:this.handleInputChange,name:"author",placeholder:"Author (required)"}),r.a.createElement(ie,{value:this.state.type,onChange:this.handleInputChange,name:"type",placeholder:"Type"}),r.a.createElement(ie,{value:this.state.location,onChange:this.handleInputChange,name:"location",placeholder:"Location (required)"}),r.a.createElement(le,{value:this.state.description,onChange:this.handleInputChange,name:"description",placeholder:"Description"}),r.a.createElement(ce,{onClick:this.handleFormSubmit},"Submit Incident"))))),r.a.createElement(Y.a,{item:!0,lg:3,md:6,xs:12},r.a.createElement(be.a,{className:t.paper},r.a.createElement("div",null,r.a.createElement("h1",null,"My Incidents"),this.state.incidents.length?r.a.createElement(re,null,this.state.incidents.map(function(t){return r.a.createElement(oe,{key:t._id},r.a.createElement("a",{href:"/incidents/"+t._id},r.a.createElement("strong",null,t.title," by ",t.author)),r.a.createElement(ae,{onClick:function(){return e.deleteIncident(t._id)}}))})):r.a.createElement("h3",null,"You Have No Incidents Reported")))))))}}])&&He(n.prototype,a),o&&He(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ze(e.prototype,t&&t.prototype),t&&ze(e,t)}(t,e),t}(a.Component),Xe=Object(C.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary}}})(Ye),Ve=n(48),Qe=n(378);n(145);function Ze(e){return(Ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tt(e,t){return!t||"object"!==Ze(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var at=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return tt(a,(n=a=tt(this,(e=nt(t)).call.apply(e,[this].concat(o))),a.state={username:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))},a.handleSubmit=function(e){e.preventDefault(),c.a.post("/api/login",{username:a.state.username,password:a.state.password}).then(function(e){sessionStorage.setItem("userId",e.data._id)}).then(console.log)},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){return r.a.createElement("div",{className:"columns is-mobile is-centered"},r.a.createElement("div",{className:"column is-half-tablet is-three-quarters-mobile"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label is-size-4 is-size-5-mobile"},"Username"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Username",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label is-size-4 is-size-5-mobile"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"}))))),r.a.createElement("button",{onClick:this.handleSubmit},"submit"))}}])&&et(n.prototype,a),o&&et(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");$e(e.prototype,t&&t.prototype),t&&$e(e,t)}(t,e),t}(r.a.Component);var rt=function(){return r.a.createElement(Qe.a,null,r.a.createElement("div",null,r.a.createElement(Ve.a,{exact:!0,path:"/landing",component:ne}),r.a.createElement(Ve.a,{exact:!0,path:"/",component:ne}),r.a.createElement(Ve.a,{exact:!0,path:"/home",component:H}),r.a.createElement(Ve.a,{exact:!0,path:"/create",component:Xe}),r.a.createElement(Ve.a,{exact:!0,path:"/login",component:at})))};i.a.render(r.a.createElement(rt,null),document.getElementById("root"))},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},194:function(e,t,n){},196:function(e,t,n){},198:function(e,t,n){e.exports=n.p+"static/media/background.0aadbbe4.jpg"},377:function(e,t,n){n(376),e.exports=n(143)},61:function(e,t,n){e.exports=n.p+"static/media/BYA-logo-horiz.71348817.PNG"}},[[377,0,1]]]);
//# sourceMappingURL=main.8f2a5f97.chunk.js.map